<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Câu 6 — Constellation Quiz</title>

<style>
:root{
  --bg:#3a2e4d;
  --card: rgba(255,214,232,0.08);
  --accent:#ffd6e8;
  --accent-2:#6b4e71;
}

body{
  margin:0;
  min-height:100vh;
  background: linear-gradient(180deg, #3a2e4d 0%, #2f2440 100%);
  color: #fff;
  font-family: Arial, sans-serif;
  display:flex;
  flex-direction:column;
  align-items:center;
}

header h1{
  margin-top:80px;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-size:34px;
  letter-spacing:0.6px;
  color: #fff;
}

.subtitle{
  font-style:italic;
  margin-top:8px;
  color: rgba(255,214,232,0.9);
  font-size:16px;
}

.card{
  margin-top:30px;
  width: min(820px, 92%);
  background: var(--card);
  border: 1px solid rgba(255,214,232,0.12);
  border-radius:18px;
  padding:24px;
  box-shadow: 0 10px 30px rgba(107,78,113,0.08);
  backdrop-filter: blur(6px);
}

.answers{
  display:flex;
  gap:12px;
  flex-direction:column;
}

.ans-btn{
  text-align:left;
  padding:14px 18px;
  border-radius:12px;
  border: 2px solid rgba(247,189,226,0.3); 
  background: linear-gradient(180deg, rgba(255,214,232,0.15), rgba(255,214,232,0.12));
  color: #2e1342; 
  font-weight:600;
  font-size:14px;
  transition: all 0.2s ease;
}

.ans-btn:hover{
  background: linear-gradient(180deg, rgba(255,214,232,0.35), rgba(255,214,232,0.25));
  transform: translateY(-3px);
  box-shadow: 0 8px 20px rgba(107,78,113,0.2);
}

.ans-btn:disabled{
  opacity:0.56;
  cursor:default;
  transform:none;
  box-shadow:none;
}

.funfact-panel{
  position: fixed;
  right: -420px;
  top: 18%;
  width: 380px;
  max-width: 86%;
  background: linear-gradient(180deg, rgba(255,214,232,0.95), rgba(255,214,232,0.9));
  color: #3a2e4d;
  border-radius: 14px;
  padding:16px 18px;
  box-shadow: 0 20px 50px rgba(0,0,0,0.45);
  transform: translateX(0);
  transition: right 0.6s cubic-bezier(.2,.9,.2,1), opacity 0.4s ease;
  opacity:0;
  z-index: 60;
}

.funfact-panel.show{
  right: 18px;
  opacity:1;
}

.funfact-panel h3{
  margin:0 0 8px 0;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-size:16px;
}

.funfact-panel p{
  margin:0 0 12px 0;
  font-size:13px;
}

.funfact-footer{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:8px;
}

.next-btn{
  padding:10px 14px;
  border-radius:10px;
  background: #6b4e71;
  color: #ffd6e8;
  border: none;
  cursor:pointer;
  font-weight:700;
}

.next-btn:disabled{
  opacity:0.6;
  cursor:default;
}

footer{
  position: fixed;
  bottom: 12px;
  width: 100%;
  text-align: center;
  color: white;
  font-size: 14px;
  font-family: Arial, sans-serif;
  opacity: 0.7;
}
</style>
</head>
<body>

<header>
  <h1> Câu 6. </h1>
  <div class="subtitle">Bạn đang lạc trên biển cùng các thủy thủ! Bạn sẽ đi theo hướng của chòm sao nào?</div>
</header>
<style>
  .zoom {
    transition: transform 0.3s;
  }
  .zoom:hover {
    transform: scale(1.2); /* 1.2 = phóng to 20% */
  }
</style>

<img src="nền6.png" class="zoom" width="400">
<main class="card" role="main" aria-labelledby="qtitle" style="margin-top: -5px">

  <div class="answers" aria-describedby="helper">
    <button class="ans-btn" data-trait="traitA" id="opt1">① Chòm Gấu Lớn (Ursa Major)</button>
    <button class="ans-btn" data-trait="traitC" id="opt2">② Chòm Lạp Hộ (Orion)</button>
    <button class="ans-btn" data-trait="traitB" id="opt3">③ Mình sẽ dùng la bàn</button>
  </div>
</main>

<aside id="funfact" class="funfact-panel" role="dialog" aria-modal="true" aria-hidden="true">
  <h3>Funfact: Định hướng bằng sao</h3>
  <p id="funfact-text"></p>
  <div class="funfact-footer">
    <small style="font-size:12px">Bạn đã chọn: <span id="chosen-label" style="font-weight:700"></span></small>
    <div>
      <button id="close-fact" class="next-btn" style="background:#9e6f9b; margin-right:8px">Đóng</button>
      <button id="go-next" class="next-btn">Tiếp câu →</button>
    </div>
  </div>
</aside>

<footer>© miuy3107</footer>

<script>
(function(){
  function getScores(){
    const raw=localStorage.getItem('quizScores');
    if(!raw){
      const init={traitA:0,traitB:0,traitC:0};
      localStorage.setItem('quizScores',JSON.stringify(init));
      return init;
    }
    try { return JSON.parse(raw); } catch(e){ return {traitA:0,traitB:0,traitC:0}; }
  }
  function saveScores(obj){ localStorage.setItem('quizScores',JSON.stringify(obj)); }

  const answers=document.querySelectorAll('.ans-btn');
  const panel=document.getElementById('funfact');
  const funfactText=document.getElementById('funfact-text');
  const chosenLabel=document.getElementById('chosen-label');
  const closeBtn=document.getElementById('close-fact');
  const goNext=document.getElementById('go-next');

  const FUNFACTS={
    opt1:{
      label:'Chòm Gấu Lớn',
      text:'Thủy thủ cổ xưa dùng Ursa Major để định hướng trên biển từ hàng ngàn năm trước, bởi vì chòm sao này đứng yên trên bầu trời và luôn chỉ về hướng Bắc.'
    },
    opt2:{
      label:'Chòm Lạp Hộ',
      text:'Mặc dù đẹp, nhưng Orion không đáng tin cậy để xác định phương hướng vì vị trí thay đổi theo mùa.'
    },
    opt3:{
      label:'Dùng la bàn',
      text:'La bàn ra đời từ Trung Quốc cổ đại và vẫn là công cụ định hướng đáng tin cậy hơn sao trên bầu trời, đặc biệt khi mất dấu các chòm sao.'
    }
  };

  answers.forEach(btn=>{
    btn.addEventListener('click',()=>{
      answers.forEach(b=>b.disabled=true);
      const trait=btn.dataset.trait;
      const optId=btn.id;
      const scores=getScores();
      scores[trait]=(scores[trait]||0)+1;
      saveScores(scores);
      const f=FUNFACTS[optId]||{label:'...',text:'...'};
      chosenLabel.textContent=f.label;
      funfactText.textContent=f.text;
      panel.classList.add('show');
      panel.setAttribute('aria-hidden','false');
      if(navigator.vibrate) navigator.vibrate(40);
    });
  });

  closeBtn.addEventListener('click',()=>{
    panel.classList.remove('show');
    panel.setAttribute('aria-hidden','true');
  });

  goNext.addEventListener('click',()=>{
    document.body.style.transition='opacity 0.8s ease';
    document.body.style.opacity='0';
    setTimeout(()=>{ window.location.href='page9.html'; },800);
  });

  document.addEventListener('keydown',(e)=>{
    if(e.key==='Escape'){
      if(panel.classList.contains('show')){
        panel.classList.remove('show');
        panel.setAttribute('aria-hidden','true');
      }
    }
  });
})();
</script>

</body>
</html>
